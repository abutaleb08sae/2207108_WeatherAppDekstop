<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.web.WebView?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.shape.Circle?>

<HBox prefHeight="800.0" prefWidth="1200.0" styleClass="root" stylesheets="@style.css" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.weatherapp.HelloController">
    <VBox prefWidth="240" spacing="15" styleClass="sidebar">
        <padding>
            <Insets bottom="20" left="20" right="20" top="40" />
        </padding>
        <Label style="-fx-text-fill: white; -fx-font-size: 22; -fx-font-weight: bold;" text="WeatherApp" />
        <Region prefHeight="10" />

        <Button maxWidth="Infinity" onAction="#showCurrentScene" styleClass="nav-button-active" text="â˜€ï¸ Current" />
        <Button maxWidth="Infinity" onAction="#showHourlyScene" styleClass="nav-button" text="ðŸ“… Hourly" />
        <Button maxWidth="Infinity" onAction="#showDetailsScene" styleClass="nav-button" text="ðŸ“Š Details" />
        <Button maxWidth="Infinity" onAction="#showMapsScene" styleClass="nav-button" text="ðŸ“ Maps" />
        <Button maxWidth="Infinity" onAction="#showMonthlyScene" styleClass="nav-button" text="ðŸ“… Monthly" />
        <Button maxWidth="Infinity" onAction="#showTrendsScene" styleClass="nav-button" text="ðŸ“ˆ Trends" />
    </VBox>

    <VBox spacing="20" styleClass="main-content" HBox.hgrow="ALWAYS">
        <padding>
            <Insets bottom="20" left="30" right="30" top="20" />
        </padding>

        <StackPane alignment="TOP_LEFT">
            <VBox spacing="20">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <TextField fx:id="searchField" onAction="#handleSearch" onMouseClicked="#showHistory" promptText="Enter city (e.g. Dhaka, London)" styleClass="search-field" HBox.hgrow="ALWAYS" />
                    <Button onAction="#handleSearch" styleClass="search-button" text="Search" />
                    <Button onAction="#handleRefresh" styleClass="search-button" text="ðŸ”„" />
                </HBox>

                <VBox fx:id="weatherCard" spacing="15" styleClass="weather-card">
                    <Label fx:id="locationLabel" style="-fx-text-fill: white; -fx-font-size: 20; -fx-font-weight: bold;" text="Detecting location..." />

                    <VBox spacing="2">
                        <Label style="-fx-text-fill: white; -fx-font-size: 14;" text="Current weather" />
                        <Label fx:id="timeLabel" style="-fx-text-fill: #D1CFE2; -fx-font-size: 12;" text="--:-- --" />
                    </VBox>

                    <HBox alignment="CENTER_LEFT" spacing="30">
                        <HBox alignment="CENTER_LEFT" spacing="15">
                            <Label fx:id="weatherIcon" style="-fx-font-size: 80; -fx-text-fill: white;" text="â˜ï¸" />
                            <Label fx:id="tempLabel" styleClass="big-temp" text="--Â°C" />
                        </HBox>

                        <VBox alignment="CENTER_LEFT">
                            <Label fx:id="conditionLabel" style="-fx-text-fill: white; -fx-font-size: 24; -fx-font-weight: bold;" text="--" />
                            <Label fx:id="feelsLikeLabel" style="-fx-text-fill: white; -fx-font-size: 16;" text="Feels like --Â°" />
                        </VBox>
                    </HBox>

                    <Label fx:id="descriptionSentence" style="-fx-text-fill: white; -fx-font-size: 18; -fx-padding: 5 0 10 0; -fx-font-style: italic;" text="Waiting for data..." wrapText="true" />

                    <GridPane hgap="25" vgap="5">
                        <VBox GridPane.columnIndex="0">
                            <Label styleClass="detail-label" text="Air quality â“˜" />
                            <HBox alignment="CENTER_LEFT" spacing="5">
                                <Circle fx:id="aqiCircle" fill="#A09EBC" radius="4" />
                                <Label fx:id="aqiLabel" styleClass="detail-value" text="--" />
                            </HBox>
                        </VBox>
                        <VBox GridPane.columnIndex="1">
                            <Label styleClass="detail-label" text="Wind â“˜" />
                            <Label fx:id="windLabel" styleClass="detail-value" text="-- m/s" />
                        </VBox>
                        <VBox GridPane.columnIndex="2">
                            <Label styleClass="detail-label" text="Humidity â“˜" />
                            <Label fx:id="humidityLabel" styleClass="detail-value" text="--%" />
                        </VBox>
                        <VBox GridPane.columnIndex="3">
                            <Label styleClass="detail-label" text="Visibility â“˜" />
                            <Label fx:id="visibilityLabel" styleClass="detail-value" text="-- km" />
                        </VBox>
                        <VBox GridPane.columnIndex="4">
                            <Label styleClass="detail-label" text="Pressure â“˜" />
                            <Label fx:id="pressureLabel" styleClass="detail-value" text="-- hPa" />
                        </VBox>
                        <VBox GridPane.columnIndex="5">
                            <Label styleClass="detail-label" text="Dew point â“˜" />
                            <Label fx:id="dewPointLabel" styleClass="detail-value" text="--Â°" />
                        </VBox>
                    </GridPane>
                </VBox>

                <VBox spacing="10" styleClass="map-container" VBox.vgrow="ALWAYS">
                    <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="Location Map" />
                    <WebView fx:id="mapView" VBox.vgrow="ALWAYS" />
                </VBox>
            </VBox>

            <VBox fx:id="historyContainer" managed="false" maxHeight="350" maxWidth="600" styleClass="history-list" visible="false">
                <StackPane.margin>
                    <Insets right="125.0" top="46.0" />
                </StackPane.margin>
                <ListView fx:id="historyListView" VBox.vgrow="ALWAYS" />
                <Button maxWidth="Infinity" onAction="#handleClearAllHistory" styleClass="clear-history-btn" text="Clear All History" />
            </VBox>
        </StackPane>
    </VBox>
</HBox>